<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Feliz dia dos namorados</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

    <section class="box-play">
        <div class="img-box">
            <div class="carrossel">
                <img src="img/foto1.jpg" class="visivel" alt="Imagem 1">
                <img src="img/foto2.jpg" alt="Imagem 2">
                <img src="img/foto3.jpg" alt="Imagem 3">
                <img src="img/foto4.jpg" alt="Imagem 4">
                <img src="img/foto5.jpg" alt="Imagem 5">
                <img src="img/foto6.jpg" alt="Imagem 6">
                <img src="img/foto7.jpg" alt="Imagem 7">
                <img src="img/foto8.jpg" alt="Imagem 8">
                <img src="img/foto9.jpg" alt="Imagem 9">
            </div>
        </div>

        <div class="controle-play">
            <div class="controle">
                <audio id="musica" src="img/New West - Those Eyes (slowed + reverb).mp3"></audio>
                
                <div class="barra-container" id="barraContainer">
                    <div class="progresso" id="progresso"></div>
                    <div class="bolinha" id="bolinha"></div>
                </div>

                <div class="btn">
                    <button class="pass-button" onclick="voltar()"><img src="img/previous (1).png" alt=""></button>
                    <button class="pause-play" onclick="toggleMusica()" id="botaoPlay"></button>
                    <button class="pass-button" onclick="avancar()"><img src="img/next-button (1).png" alt=""></button>
                </div>
            </div>
        </div>
        
    </section>


    
<script>
    let indiceAtual = 0;
    const imagens = document.querySelectorAll('.carrossel img');
    function mostrarImagem(index) {
        imagens.forEach((img, i) => {
            img.classList.toggle('visivel', i === index);
        });
    }

    function avancar() {
        indiceAtual = (indiceAtual + 1) % imagens.length;
        mostrarImagem(indiceAtual);
    }

    function voltar() {
        indiceAtual = (indiceAtual - 1 + imagens.length) % imagens.length;
        mostrarImagem(indiceAtual);
    }

</script>

<script>
    const musica = document.getElementById('musica');
    const progresso = document.getElementById("progresso");
    const bolinha = document.getElementById("bolinha");
    const barraContainer = document.getElementById("barraContainer");
    const botaoPlay = document.getElementById("botaoPlay");


            function toggleMusica() {
        if (musica.paused) {
        musica.play();
        botaoPlay.classList.add("pausando");
        } else {
        musica.pause();
        botaoPlay.classList.remove("pausando");
        }
    }

    musica.addEventListener("timeupdate", () => {
        const porcentagem = (musica.currentTime / musica.duration) * 100;
        progresso.style.width = porcentagem + "%";
        bolinha.style.left = porcentagem + "%";
    });

    // Arrastar para buscar na mÃºsica
    barraContainer.addEventListener("click", (e) => {
        const rect = barraContainer.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const porcentagem = x / rect.width;
        musica.currentTime = porcentagem * musica.duration;
    });
</script>

</body>
</html>